from rest_framework import serializers
from eleves.models import *
from classes.models import *
from professeurs.models import *
from paiements.models import *


class AnneeScolairesSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = AnneeScolaire
        fields = '__all__'

class AnneeScolaireSerializer(serializers.ModelSerializer):
    class Meta:
        model = AnneeScolaire
        fields = '__all__'
        depth = 1

class AnneeScolaireJrSerializer(serializers.ModelSerializer):
    class Meta:
        model = AnneeScolaire
        fields = ['anneeDebut', 'anneeFin']
        depth = 1

class ClassesSerializer(serializers.ModelSerializer):
    class Meta:
        model = Classe
        fields = '__all__'
        depth = 1

class ClassesLinkedSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = Classe
        fields = '__all__'
        depth = 1

class ClasseSerializer(serializers.ModelSerializer):
    class Meta:
        model = Classe
        fields = '__all__'
        depth = 1

class AnneeClasseSerializer(serializers.ModelSerializer):
    annee = AnneeScolaireJrSerializer()
    class Meta:
        model = AnneeClasse
        fields = ['classe', 'annee']
        depth = 2

class ElevesSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = Eleve
        fields = ['id', 'prenom', 'nom', 'dateNaissance', 'lieuNaissance']

class EleveSerializer(serializers.ModelSerializer):
    class Meta:
        model = Eleve
        fields = ['id', 'nom', 'prenom', 'dateNaissance', 'lieuNaissance', 'adresse', 'parent', 'telephone', 'classes']
        depth = 1
    classes = AnneeClasseSerializer(many=True)

class ProfesseursSerializer(serializers.ModelSerializer):
    class Meta:
        model = Professeur
        fields = ['id', 'nom', 'prenom', 'matiere', 'telephone']
        depth = 1

class ProfesseurSerializer(serializers.ModelSerializer):
    class Meta:
        model = Professeur
        fields = ['id', 'nom', 'prenom', 'matiere', 'telephone', 'salaire', 'classes']
        depth = 1
    classes = AnneeClasseSerializer(many=True)

class PaiementSerializer(serializers.ModelSerializer):
    class Meta:
        model = Paiement
        fields = ['id', 'nom', 'prenom', 'matiere', 'telephone', 'salaire', 'classes']
        depth = 1
        classes = AnneeClasseSerializer(many=True)
